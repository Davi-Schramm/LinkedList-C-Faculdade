#include <stdio.h>
#include <stdlib.h>
 
typedef struct node {
    int val;
    struct node * next;
    struct node * ant;
} node_t;

void printlist(node_t * head);
void push(node_t * head, int val);

int main(){
 
    node_t * head = NULL;
    node_t * ant = NULL;
    head = (node_t *) malloc(sizeof(node_t));
    ant = (node_t *) malloc(sizeof(node_t));
    
    for(int i = 0;i<10;i++){
        push(head,i);
    }
    
    printlist(head);
    
    
    
    return 0;
}

void push(node_t * head, int val){
    node_t * arr[1000];
    int i = 0;
    node_t * current = head;
    while (current->next != NULL){
        arr[i] = current;
        i++;
        current = current->next;
    }
    current->next = (node_t *) malloc(sizeof(node_t));
    current->next->val = val;
    current->next->next = NULL;
    while(i--){
        current->ant = arr[i-1];
        printf("%d",current->ant->val);
        current = current->ant;
    }
    current->ant = NULL;
}

void printlist(node_t * head){
    node_t * current = head;
 
    while(current->next != NULL){
        printf("%d | ",current->val);
        current = current->next;
    }
    printf("\n");
    while(current->ant != NULL){
        printf("%d | ",current->val);
        current = current->ant;
    }
}
