#include <stdio.h>
#include <stdlib.h>
 
typedef struct node {
    int val;
    struct node * next;
    struct node * ant;
} node_t;

void printlist(node_t * head);
void push(node_t * head, int val);
void push_front(node_t ** head, int val);

int main(){
 
    node_t * head = NULL;
    node_t * ant = NULL;
    head = (node_t *) malloc(sizeof(node_t));
    ant = (node_t *) malloc(sizeof(node_t));
    
    for(int i = 0;i<10;i++){
        push(head,i);
    }
    push_front(&head,123);
    printlist(head);
    
    
    
    return 0;
}

void push(node_t * head, int val){
    node_t * current = head;
    while (current->next != NULL){
        current = current->next;
    }
    current->next = (node_t *) malloc(sizeof(node_t));
    current->next->val = val;
    current->next->ant = current;
    current->next->next = NULL;
}

void push_front(node_t ** head, int val){
    node_t * newnode;
    newnode = (node_t *) malloc(sizeof(node_t));
    newnode->next = (*head);
    newnode->ant = (node_t *) malloc(sizeof(node_t));
    newnode->val = val;
    (*head) = newnode;
}

void printlist(node_t * head){
    node_t * current = head;
 
    while(current->next != NULL){
        printf("%d | ",current->val);
        current = current->next;
    }
    printf("\n");
    while(current->ant != NULL){
        printf("%d | ",current->val);
        current = current->ant;
    }
}
